# Local Shannon Node Configuration

## Overview
pokt.ai can be configured to use the local Shannon testnet node instead of the remote RPC provider.

## Local Shannon Services

### Running Services:
- **shannon-testnet-gateway** (PORT 3069) - PATH gateway service
- **shannon-testnet-node** - Shannon testnet full node
- **shannon-testnet-relayminer** - Relay miner service

### Gateway Configuration:
The gateway config at `/home/shannon/shannon/gateway/config/gateway_config.yaml` uses:
```yaml
rpc_url: "https://shannon-testnet-grove-rpc.beta.poktroll.com"
grpc_config:
  host_port: "shannon-testnet-grove-grpc.beta.poktroll.com:443"
```

## How to Use Local Node

### Option 1: Environment Variables (Recommended)
Add to `apps/web/.env`:
```bash
# Use local Shannon testnet node
USE_LOCAL_NODE=true
LOCAL_GATEWAY_URL=http://localhost:3069
```

### Option 2: Direct RPC URL
```bash
USE_LOCAL_NODE=true
LOCAL_NODE_RPC_URL=http://localhost:3069
```

### Option 3: Use Shannon Testnet (Beta)
```bash
USE_LOCAL_NODE=true
LOCAL_NODE_RPC_URL=https://shannon-testnet-grove-rpc.beta.poktroll.com
```

## How It Works

1. **Local PATH Gateway** (port 3069) - Routes requests to local Shannon node
2. **pokt.ai Gateway** - When `USE_LOCAL_NODE=true`, routes to local gateway instead of rpctest.pokt.ai
3. **Service ID Header** - For direct Shannon RPC, uses `target-service-id` header
4. **Path-based Routing** - For PATH gateway, uses `/v1/rpc/{chain}` format

## Example Usage

After setting environment variables, all endpoints will automatically use the local Shannon node:
```
POST https://pokt.ai/api/gateway?endpoint=your_endpoint_id
```

The gateway will route to:
- Production: `https://rpctest.pokt.ai/v1/rpc/eth`
- Local: `http://localhost:3069/v1/rpc/eth`
































